<div class="page-center">
  <div class="page-header" fxlayout fxlayout="column" fxLayout.xs="column" fxLayoutAlign="center center">
    <div fxFlex="80%" class="page-search"><input type="Text"></div>

    <button mat-icon-button (click)="filter=!filter;" matTooltip="{{'qcm.form.menu.filter' | translate}}">

      <mat-icon *ngIf="(questionStore.criteriaSize$ |async ) > 0"
                matBadge="{{(questionStore.criteriaSize$ |async )}}"
                matBadgeColor="warn"
                matBadgePosition="above after">filter_list
      </mat-icon>
      <mat-icon *ngIf="(questionStore.criteriaSize$ |async ) ==0">filter_list</mat-icon>
    </button>
  </div>

  <div fxLayout fxlayout="column" fxLayoutAlign="center center" fxLayout.xs="column" [hidden]="!filter">
     <span>
      <h1>{{'qcm.question.filtre.title' |translate }}</h1>
      ({{'qcm.question.filtre.found' | translate:{'nb': list.totalElements} }})
    </span>
  </div>
  <div fxLayout fxLayoutAlign="center center" fxLayout.xs="column" [hidden]="!filter">
    <div>{{'qcm.tag-select.title' | translate}}:</div>
    <app-tag-select></app-tag-select>
    <div>{{'qcm.questionnaire-select.title' | translate}}:</div>
    <app-questionnaire-select></app-questionnaire-select>
  </div>


  <div fxlayout [hidden]="filter">

    <app-selectable-list #list [store]="questionStore"
                         [sortBy]="'id'"
                         (onCreate)="create()">

      <div toolbar-view style="display: flex;">
         <span *ngIf="!list.isSelectedMode()"
               style="align-items: center "> {{ "qcm.question.list.title" | translate}}</span>
        <span *ngIf="list.isSelectedMode()"
              style="align-items: center ">{{ "qcm.question.selected.title" | translate }}</span>
      </div>

      <div toolbar-view class="spacer"></div>

      <app-question-nav-list elements-view [elements$]="questionStore.elements$"></app-question-nav-list>

      <app-question-nav-list selected-view [elements$]="questionStore.selected$"></app-question-nav-list>

    </app-selectable-list>

  </div>

</div>


