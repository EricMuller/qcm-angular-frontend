

<app-selectable-list #list [dataSelectionStore]="questionnaireStore" [filterStore]="tagStore" (onCreate)="create()">
  <mat-toolbar>
    <div>
      <button mat-icon-button *ngIf="list.modeSelection$ |async " (click)="list.swapSelectedMode()">
        <mat-icon>list</mat-icon>
      </button>
      <span style="align-items: center ">My Questionnaires ({{list.selectionSize()}} selected)</span>
      <span>({{list.filterSize()}} filter(s))</span>
    </div>
    <div flex></div>
    <button *ngIf="!list.isSelectedMode()" mat-icon-button (click)="list.selectAll()">
      <mat-icon>select_all</mat-icon>
    </button>
    <a *ngIf="!list.isSelectedMode()" mat-icon-button [@tdPulse]="pulseState"
       (click)="list.refresh(true);list.paginator.firstPage();">
      <mat-icon>replay</mat-icon>
    </a>
    <button mat-icon-button routerLink="/questionnaires/filters">
      <mat-icon matBadge="22" matBadgePosition="above after">filter_list</mat-icon>
    </button>
  </mat-toolbar>

  <app-questionnaire-nav-list elements-view [elements]="list.elements"></app-questionnaire-nav-list>
  <app-questionnaire-nav-list selected-view [elements]="list.selected"></app-questionnaire-nav-list>
</app-selectable-list>


<app-fab *ngIf="list.selectionSize()" mat-fab>
  <app-fab-toggle [iconOff]="'mode_edit'" [iconOn]="'replay'"></app-fab-toggle>
  <app-fab-button [color]="'accent'" [icon]="'delete'" (onClick)="list.deleteSelectedElements()"></app-fab-button>
  <app-fab-button [icon]="'add'"    [color]="'primary'" (onClick)="create()"> </app-fab-button>
</app-fab>

<button *ngIf="!list.selectionSize()" mat-fab color="primary" class="mat-fab-bottom-right z-2 fixed" (click)="create()">
  <mat-icon>add</mat-icon>
</button>

