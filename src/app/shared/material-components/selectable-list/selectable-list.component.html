<div  class="selectable-list-container">

  <mat-toolbar>
    <mat-toolbar-row>
    <button *ngIf="!isSelectedMode()" mat-icon-button (click)="selectAll()"
            matTooltip="{{'qcm.selectable-list.menu.selectAll' | translate }}">
      <mat-icon>select_all</mat-icon>
    </button>

    <ng-content toolbar-view></ng-content>

    <button mat-icon-button matBadge="{{selectionSize()}}" matBadgePosition="before" matBadgeColor="accent"
            matTooltip="{{'qcm.selectable-list.menu.viewSelected' | translate }}"
            *ngIf="modeSelection$ |async" (click)="swapSelectedMode()">
      <mat-icon>visibility</mat-icon>
    </button>
    <mat-spinner [diameter]="16" [hidden]="!loadingData"></mat-spinner>

    <button mat-icon-button (click)="refresh(true);"
            matTooltip="{{'qcm.selectable-list.menu.refresh' | translate}}">
      <mat-icon>replay</mat-icon>
    </button>

    <button *ngIf="selectionSize()" mat-icon-button (click)="deleteSelectedElements()"
            matTooltip="{{'qcm.selectable-list.menu.deleteAll' | translate }}" color="accent">
      <mat-icon>delete</mat-icon>
    </button>

    <button mat-icon-button (click)="onCreateElement($event)"
            matTooltip="{{'qcm.selectable-list.menu.new' | translate }}">
      <mat-icon>add_circle_outline</mat-icon>
    </button>
    </mat-toolbar-row>

  </mat-toolbar>
    <mat-paginator #paginator (page)="onPaginateChange($event)" [hidden]="totalElements <= pageSize"
                 [length]="totalElements" [pageSize]="pageSize" [showFirstLastButtons]="true"
                 hidePageSize="true" itemsPerPageLabel=''></mat-paginator>

  <ng-content *ngIf="!isSelectedMode()" select="[elements-view]"></ng-content>

  <ng-content *ngIf="isSelectedMode()" select="[selected-view]"></ng-content>

</div>

<div [hidden]="loadingData " class="empty">
  <div *ngIf="(elements)?.length ==0 " class="empty">
    <span style="display:flex;justify-content: center;flex-direction: column;align-items: center;height: 100%;">
      <div><img src="./assets/images/norecord.png"/></div>
      <p>{{'qcm.selectable-list.empty' | translate }}</p>
      <div>
          <span [hidden]="filterSize() == 0 ">
            <button mat-raised-button color="primary" (click)="clearCriterias()">
              {{'qcm.selectable-list.clear-filters' | translate }}</button>
            </span>
        </div>
    </span>
  </div>
</div>



